[2025-06-18 22:24:11] INFO: Fetching all emprunts
[2025-06-18 22:24:11] INFO: Found 4 emprunts
[2025-06-18 22:24:13] INFO: Fetching all emprunts
[2025-06-18 22:24:13] INFO: Found 4 emprunts
[2025-06-18 22:24:37] INFO: Fetching all emprunts
[2025-06-18 22:24:37] WARN: Found 4 emprunts
[2025-06-18 22:24:46] INFO: Fetching all emprunts
[2025-06-18 22:24:46] ERROR: Found 4 emprunts
[2025-06-18 22:24:59] INFO: Fetching all emprunts
[2025-06-18 22:24:59] INFO: Found 4 emprunts
[2025-06-18 22:25:01] INFO: Fetching all emprunts
[2025-06-18 22:25:01] INFO: Found 4 emprunts
[2025-06-18 23:10:14] INFO: [empruntController] Fetching all emprunts
[2025-06-18 23:10:15] INFO: [empruntController] Found 4 emprunts
[2025-06-19 00:16:28] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:16:28] INFO: [empruntService] Creating emprunt with data:  [object Object]
[2025-06-19 00:16:31] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:16:31] INFO: [empruntService] Creating emprunt with data:  [object Object]
[2025-06-19 00:17:34] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:17:34] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: b8018cc9-fd69-46e6-9b41-93069d8b654a
[2025-06-19 00:19:25] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:19:25] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: b8018cc9-fd69-46e6-9b41-93069d8b654a
[2025-06-19 00:25:01] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:25:01] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: b8018cc9-fd69-46e6-9b41-93069d8b654a
[2025-06-19 00:25:53] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:25:53] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: b8018cc9-fd69-46e6-9b41-93069d8b654a
[2025-06-19 00:27:05] INFO: [empruntController] Fetching all emprunts
[2025-06-19 00:27:05] INFO: [empruntService] Fetching all emprunts
[2025-06-19 00:27:05] INFO: [empruntController] Found 4 emprunts
[2025-06-19 00:34:11] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:34:11] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: 26c1f364-46d0-42e0-afc5-c2495dc124c7
[2025-06-19 00:34:11] INFO: [empruntService] Emprunt created with empruntId: b89ad9bc-043d-4dfb-81fe-af3a9b1d29fe for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: 26c1f364-46d0-42e0-afc5-c2495dc124c7
[2025-06-19 00:34:27] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:34:27] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: 26c1f364-46d0-42e0-afc5-c2495dc124c7
[2025-06-19 00:34:33] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:34:33] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: 26c1f364-46d0-42e0-afc5-c2495dc124c7
[2025-06-19 00:35:08] INFO: [empruntController] createEmprunt - Creating emprunt
[2025-06-19 00:35:08] INFO: [empruntService] Creating emprunt for userId: 3fa85f64-5717-4562-b3fc-2c963f66afa6 and resourceId: b8018cc9-fd69-46e6-9b41-93069d8b654a
[2025-06-19 00:39:41] INFO: [empruntService] Fetching all emprunts
[2025-06-19 00:39:42] INFO: [empruntController] Fetched 5 emprunts
[2025-06-19 00:40:03] INFO: [empruntService] Fetching all emprunts
[2025-06-19 00:40:03] INFO: [empruntController] Fetched 5 emprunts
[2025-06-19 01:08:28] INFO: [empruntController] Fetched 5 emprunts
[2025-06-19 01:08:52] ERROR: [empruntController] Error creating emprunt: MongoServerError: E11000 duplicate key error collection: td-mediatheque.emprunts index: ressourceId_1 dup key: { ressourceId: "b8018cc9-fd69-46e6-9b41-93069d8b654a" }
[2025-06-19 01:09:20] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:09:20] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:09:35] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:09:35] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:19:31] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:19:31] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:19:31] ERROR: [errorHandler] AppError: Resource not available
[2025-06-19 01:20:21] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:20:21] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:20:21] ERROR: [errorHandler] AppError: Resource not available
[2025-06-19 01:22:45] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:22:45] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:22:45] ERROR: [errorHandler] AppError: Resource not available
[2025-06-19 01:22:56] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:22:56] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:22:56] ERROR: [errorHandler] AppError: Resource not available
[2025-06-19 01:26:12] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:26:12] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:26:12] ERROR: [errorHandler] AppError: Resource not available
[2025-06-19 01:28:12] ERROR: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:28:12] ERROR: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:33:38] error: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:33:38] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:33:38] error: [errorHandler] AppError: Resource not available
[2025-06-19 01:33:45] error: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:33:45] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:33:45] error: [errorHandler] AppError: Resource not available
[2025-06-19 01:33:46] error: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:33:46] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:33:46] error: [errorHandler] AppError: Resource not available
[2025-06-19 01:39:09] error: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:39:09] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:39:09] error: [errorHandler] AppError: Resource not available
[2025-06-19 01:39:13] error: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:39:13] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:39:13] error: [errorHandler] AppError: Resource not available
[2025-06-19 01:41:48] error: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:41:48] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:41:48] error: Resource not available
AppError: Resource not available
    at /Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:20:15
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 01:51:21] error: [empruntService] Resource not available for ressourceId: 14428adb-7a59-4185-93e7-9bb2b068868e
[2025-06-19 01:51:21] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:51:21] error: Resource not available
AppError: Resource not available
    at /Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:20:15
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 01:54:14] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:54:14] error: Resource not available
AppError: Resource not available
    at /Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:18:15
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 01:58:21] error: [empruntController] Error creating emprunt: AppError: Resource not available
[2025-06-19 01:58:21] error: Resource not available
AppError: Resource not available
    at /Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:18:15
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/empruntService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 02:02:46] error: [userController] Error creating user: AppError: Email already in use
[2025-06-19 02:02:46] error: Email already in use
AppError: Email already in use
    at Object.<anonymous> (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:14:17)
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 02:02:55] error: [userController] Error creating user: AppError: Phone number already in use
[2025-06-19 02:02:55] error: Phone number already in use
AppError: Phone number already in use
    at Object.<anonymous> (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:21:17)
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 02:03:53] error: [userController] Error creating user: AppError: Phone number already in use
[2025-06-19 02:03:53] error: Phone number already in use
AppError: Phone number already in use
    at Object.<anonymous> (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:21:17)
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 02:05:27] error: [userController] Error creating user: Error: Phone number already in use
[2025-06-19 02:05:27] error: Phone number already in use
Error: Phone number already in use
    at Object.<anonymous> (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:21:17)
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 02:05:32] error: [userController] Error creating user: Error: Phone number already in use
[2025-06-19 02:05:32] error: Phone number already in use
Error: Phone number already in use
    at Object.<anonymous> (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:21:17)
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 02:06:17] error: [userController] Error creating user: Error: Phone number already in use
[2025-06-19 02:06:17] error: Phone number already in use
Error: Phone number already in use
    at Object.<anonymous> (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:21:17)
    at Generator.next (<anonymous>)
    at fulfilled (/Users/florian/Desktop/TD-Mediatheque/src/services/userService.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-19 02:08:32] error: [userController] Error creating user: AppError: Phone number already in use
[2025-06-19 02:09:23] info: [userController] Fetched 7 users
[2025-06-19 02:09:33] error: [userController] Error fetching user by ID 507f1f77bcf86cd799439011: AppError: User not found
[2025-06-19 02:10:42] info: [userController] Fetched user with ID: 7fa7f83c-c265-48b2-8e39-866a82f23736
[2025-06-19 02:11:26] error: [userController] Error fetching user by ID 507f1f77bcf86cd799439011: AppError: User not found
[2025-06-19 02:12:41] error: [userService] Email already in use: jean.dupont@example.com
[2025-06-19 02:12:41] error: [userController] Error creating user: AppError: Email already in use
[2025-06-19 02:18:21] error: [empruntService] Emprunt with ID a289827a-3ce5-47c7-b953-c7c36d399e13 not found
[2025-06-19 02:18:21] error: [empruntController] Error returning emprunt with ID a289827a-3ce5-47c7-b953-c7c36d399e13: AppError: Emprunt not found
[2025-06-19 09:20:00] error: [userController] Error fetching users: TypeError: Cannot read properties of undefined (reading 'toLocaleDateString')
[2025-06-19 09:20:03] error: [userController] Error fetching users: TypeError: Cannot read properties of undefined (reading 'toLocaleDateString')
[2025-06-19 09:22:16] info: [userController] Fetched 7 users
[2025-06-19 15:54:21] info: [userController] Fetched 7 users
[2025-06-19 15:54:35] info: [userController] Fetched user with ID: 841b92f9-54b6-4a4f-8fe6-6dfecef393a9
[2025-06-19 15:55:01] info: [userController] Fetched user with ID: 841b92f9-54b6-4a4f-8fe6-6dfecef393a9
[2025-06-19 22:37:50] info: [ressourceController] Fetched 6 resources
[2025-06-19 22:44:16] info: [userController] Fetched 7 users
[2025-06-19 23:06:20] info: [userController] Fetched 7 users
[2025-06-20 10:43:46] info: [userController] Fetched 0 users
[2025-06-20 10:48:39] info: [userController] User created successfully with ID: 6f07748b-463a-451c-9625-796f5f2dd524
[2025-06-20 10:48:46] info: [userController] Fetched 1 users
[2025-06-20 10:48:56] info: [ressourceController] Fetched 1 resources
[2025-06-20 10:49:10] info: [ressourceController] Resource created successfully with ID: 90555fc8-860b-4bff-b558-4a8f24933f8f
[2025-06-20 10:49:17] info: [ressourceController] Fetched 2 resources
[2025-06-20 10:49:26] info: [empruntController] Fetched 0 emprunts
[2025-06-20 10:49:56] info: [userController] Fetched 1 users
[2025-06-20 10:50:10] info: [empruntController] Emprunt created successfully with ID: c6bd2a6d-a11d-46a2-9ed3-1e3406b9daa2
[2025-06-20 10:50:20] info: [empruntController] Fetched 1 emprunts
[2025-06-20 10:50:38] error: [userController] Error deleting user with ID 3fa85f64-5717-4562-b3fc-2c963f66afa6: AppError: User not found
[2025-06-20 10:50:58] info: [userController] User with ID: 6f07748b-463a-451c-9625-796f5f2dd524 deleted successfully
[2025-06-20 10:51:09] info: [userController] Fetched 0 users
[2025-06-20 10:51:21] info: [empruntController] Fetched 1 emprunts
[2025-06-20 10:51:43] info: [empruntController] Emprunt with ID: c6bd2a6d-a11d-46a2-9ed3-1e3406b9daa2 deleted successfully
[2025-06-20 10:51:49] info: [empruntController] Fetched 0 emprunts
[2025-06-20 10:52:03] info: [ressourceController] Resource with ID: 3c4a54d8-587b-4a25-aa69-d119dcecc881 deleted successfully
[2025-06-20 10:52:16] info: [ressourceController] Resource with ID: 90555fc8-860b-4bff-b558-4a8f24933f8f deleted successfully
[2025-06-20 10:52:25] info: [ressourceController] Fetched 0 resources
[2025-06-20 10:52:31] info: [userController] Fetched 0 users
[2025-06-20 10:52:42] info: [userController] User created successfully with ID: 72725424-688a-47c1-a795-a068089e015e
[2025-06-20 10:52:45] info: [userController] Fetched 1 users
[2025-06-20 10:53:03] info: [ressourceController] Resource created successfully with ID: 94a9dd10-2f57-42d0-8a30-d7fce2218220
[2025-06-20 10:53:11] info: [empruntController] Fetched 0 emprunts
[2025-06-20 10:53:31] info: [userController] Fetched 1 users
[2025-06-20 10:53:46] info: [empruntController] Emprunt created successfully with ID: fb990e7e-6c7f-47af-8906-04d05c9ffd67
[2025-06-20 10:53:54] info: [empruntController] Fetched 1 emprunts
[2025-06-20 10:54:09] info: [userController] Fetched 1 users
[2025-06-20 10:54:49] info: [userController] User with ID: 72725424-688a-47c1-a795-a068089e015e deleted successfully
[2025-06-20 10:54:52] info: [userController] Fetched 0 users
[2025-06-20 10:59:34] info: [userController] Fetched 0 users
[2025-06-20 10:59:40] info: [userController] User created successfully with ID: 1de2e141-91bc-4d36-b490-df211405052f
[2025-06-20 10:59:42] info: [userController] Fetched 1 users
[2025-06-20 10:59:58] info: [ressourceController] Resource created successfully with ID: 221dd0ad-bbf1-4388-8274-d02430904daf
[2025-06-20 11:00:01] info: [ressourceController] Fetched 2 resources
[2025-06-20 11:00:11] info: [empruntController] Fetched 1 emprunts
[2025-06-20 11:00:40] info: [empruntController] Emprunt created successfully with ID: 8857566c-2f53-462e-ae27-fafd6935cf31
[2025-06-20 11:00:46] info: [empruntController] Fetched 2 emprunts
[2025-06-20 11:00:59] info: [userController] Fetched 1 users
[2025-06-20 11:01:05] error: [userController] Error deleting user with ID 1de2e141-91bc-4d36-b490-df211405052f: AppError: Cannot delete user with active loan
[2025-06-20 11:07:13] info: [userController] Fetched 1 users
[2025-06-20 11:07:25] info: [userController] Fetched 1 users
[2025-06-20 11:07:35] info: [empruntController] Fetched 2 emprunts
[2025-06-20 11:07:55] error: [userController] Error deleting user with ID 1de2e141-91bc-4d36-b490-df211405052f: AppError: Cannot delete user with active loan
